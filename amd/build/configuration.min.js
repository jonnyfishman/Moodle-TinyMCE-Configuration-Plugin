define("tiny_configurator/configuration",["exports","./common"],(function(_exports,_common){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.configure=void 0;_exports.configure=async instanceConfig=>{console.log(instanceConfig);const pluginParams=await(async()=>{const pluginName="".concat(_common.component,"/plugin:data");for(;!instanceConfig[pluginName];)await new Promise((resolve=>setTimeout(resolve,100)));return instanceConfig[pluginName].params})();console.log("after",instanceConfig);pluginParams.disabledToolbarButtons.split(" ").forEach((button=>{button.includes("[")?instanceConfig.toolbar=instanceConfig.toolbar.filter((function(item){return item.name!==button.replace(/[\[\]]/g,"")})):instanceConfig.toolbar.forEach((function(element){element.items=element.items.filter((function(item){return item!==button}))}))}));const menusToRemove=pluginParams.disabledMenuItems.split(" ");return console.log(menusToRemove),menusToRemove.forEach((menuName=>{if(menuName.includes(":")){const parts=menuName.split(":");instanceConfig.menu[parts[0]].items=instanceConfig.menu[parts[0]].items.replace(parts[1],"")}else instanceConfig.menu=instanceConfig.menu.filter((function(item){return item.title!==menuName}))})),instanceConfig.menu.edit,console.log(instanceConfig),instanceConfig}}));

//# sourceMappingURL=configuration.min.js.map