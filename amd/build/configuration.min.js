define("tiny_tiny_configurator/configuration",["exports","./common"],(function(_exports,_common){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.configure=void 0;_exports.configure=async instanceConfig=>{let TOOLBAR=[...instanceConfig.toolbar],MENU={...instanceConfig.menu};const settings=await(async()=>{const pluginName="".concat(_common.component,"/plugin:data");for(;!instanceConfig[pluginName];)await new Promise((resolve=>setTimeout(resolve,1)));return instanceConfig[pluginName].params})();TOOLBAR.forEach((menu=>{const toolbarSettings=settings.toolbarSettings[menu.name];toolbarSettings&&toolbarSettings.remove&&(menu.items=menu.items.filter((item=>!toolbarSettings.remove.includes(item)))),toolbarSettings&&toolbarSettings.add&&(menu.items=menu.items.concat(toolbarSettings.add))}));for(const[menuName,menu]of Object.entries(MENU)){const menuSettings=settings.menuSettings[menuName];menuSettings&&menuSettings.items&&(menu.items=menuSettings.items)}return{menu:MENU,toolbar:TOOLBAR}}}));

//# sourceMappingURL=configuration.min.js.map